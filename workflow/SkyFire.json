{
  "$schema": "./schema/generated.schema.json",
  "begin": "EnterDelay",
  "globals": {
    "debug": true,
    "logConfig": {
      "file": "log/test.log",
      "clear": false
    }
  },
  "jobs": {
    "EnterDelay": {
      "type": "System",
      "description": "等待操作",
      "action": {
        "type": "Delay",
        "duration": 1000
      },
      "next": "ClickUnfired"
    },
    "ClickUnfired": {
      "type": "ROI",
      "description": "点击未点火好友",
      "image": {
        "path": "images/sky_fire/unfired--2-3.png",
        "confidence": 0.93
      },
      "action": {
        "type": "LClick",
        "position": {
          "type": "Relative"
        }
      },
      "region": {
        "x": 130,
        "y": 290,
        "width": 1390,
        "height": 830
      },
      "next": {
        "success": "CheckEnter",
        "failure": "NextPage"
      },
      "delay": {
        "pre": 0,
        "cur": 50,
        "post": 0
      },
      "limits": {
        "maxFailure": 10
      }
    },
    "CheckEnter": {
      "type": "ROI",
      "description": "通过编辑, 检查是否进入了好友操作界面, 如果有编辑说明还需要点击",
      "image": { "path": "images/sky_fire/edit--2-3.png", "confidence": 0.95 },
      "next": {
        "success": "ClickUnfired",
        "failure": "FireFriend"
      },
      "delay": {
        "pre": 300,
        "cur": 50,
        "post": 0
      }
    },
    "FireFriend": {
      "type": "Input",
      "description": "为好友点燃心火",
      "action": {
        "type": "KeyboardInput",
        "keys": ["f"]
      },
      "next": "ExitFriend",
      "delay": {
        "pre": 300,
        "cur": 50,
        "post": 30
      }
    },
    "NextPage": {
      "type": "Input",
      "description": "点击下一页",
      "action": {
        "type": "KeyboardInput",
        "keys": ["c"]
      },
      "next": {
        "success": "ClickUnfired"
      },
      "delay": {
        "pre": 0,
        "cur": 50,
        "post": 1000
      }
    },
    "ExitFriend": {
      "type": "Input",
      "description": "退出好友操作界面",
      "action": {
        "type": "KeyboardInput",
        "keys": ["esc"]
      },
      "next": "ClickUnfired",
      "delay": {
        "pre": 0,
        "cur": 50,
        "post": 300
      }
    }
  }
}
