{
  "begin": "ClickInputBox",
  "globals": {
    "debug": true
  },
  "jobs": {
    "OpenQQ": {
      "type": "ROI",
      "description": "Open QQ application",
      "image": { "path": "images/qq.png", "confidence": 0.95 },
      "action": {
        "type": "LClick",
        "position": {
          "type": "Relative"
        }
      },
      "next": {
        "success": "ClickInputBox",
        "failure": "OpenQQ"
      },
      "delay": {
        "pre": 1000,
        "cur": 50,
        "post": 0
      }
    },
    "ClickInputBox": {
      "type": "ROI",
      "description": "Click on the input box",
      "needs": [],
      "image": { "path": "images/send.png", "confidence": 0.95 },
      "action": {
        "type": "LClick",
        "position": {
          "type": "Relative",
          "x": -300,
          "y": -40
        }
      },
      "next": {
        "success": "InputMessage",
        "failure": "OpenQQ"
      },
      "delay": {
        "pre": 0,
        "cur": 50,
        "post": 0
      },
      "ret": "position",
      "maxTries": 5
    },
    "InputMessage": {
      "type": "Input",
      "description": "Input a message",
      "needs": ["ClickInputBox"],
      "action": {
        "type": "TextInput",
        "text": "Hello, this is a test message! 你好, 这是一个测试消息!"
      },
      "next": "SendMessage",
      "delay": {
        "pre": 0,
        "cur": 1000,
        "post": 0
      }
    },
    "SendMessage": {
      "type": "ROI",
      "description": "Click the send button to send the message",
      "needs": ["ClickInputBox"],
      "image": {
        "path": "images/send_button.png",
        "confidence": 0.9
      },
      "action": {
        "type": "LClick"
      },
      "delay": {
        "pre": 0,
        "cur": 50,
        "post": 500
      }
    }
  }
}
